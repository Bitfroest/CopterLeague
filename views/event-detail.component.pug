div.container
	div( *ngIf='event')
		div([hidden]='!submitted')
			form(*ngIf='active', (ngSubmit)='onSubmit()', #eventForm='ngForm')
				div.form-group
					label(for='title') Titel
					input.form-control(type='text' required [(ngModel)]='event.data.title', ngControl='title', #title='ngForm')
					div.alert.alert-danger([hidden]='title.valid || title.pristine') Titel wird benötigt
				div.form-group
					label(for='date') Datum
					input.form-control(type='text' required [(ngModel)]='event.data.date', ngControl='date', #date='ngForm')
					div.alert.alert-danger([hidden]='date.valid || date.pristine') Datum wird benötigt
				button.btn.btn-default(type='submit', [disabled]='!eventForm.form.valid') Speichern
		div([hidden]='submitted')
			div.row
				div.col-md-12
					h2 {{event.data.title}}
					img.img-centered(src='placeholder.png')
			div.row
				div.col-md-6
					div.panel.panel-primary
						div.panel-heading Informationen
						div.panel-body
							div
								label #ID
								span.pull-right {{event.data.id}}
							div
								label Datum
								span.pull-right {{event.data.date | iso8601ToDate }}
							div
								label Deadline
								span.pull-right {{event.data.deadline | iso8601ToDate }}
							div
								label Status
								span.pull-right( *ngIf='event.data.isCancelled' ) Dieses Event wurde leider abgesagt.
								span.pull-right( *ngIf='!event.data.isCancelled' ) Findet statt!
							div
								label Teilnehmer
								span.pull-right {{event.data.participants?.length}} / {{event.data.maxParticipants}}
				div.col-md-6
					h4 Ort
					span {{event.data.location}}
			div.row
				div.col-md-12
					div
						h3 Regelwerk
						span {{event.data.policy}}
					div
						h3 Beschreibung
						span {{event.data.notes}}
			h3 Teilnehmer
			table.table
				tr
					td ID
					td Alias
				tr( *ngFor='#pilot of event.data?.participants')
					td {{pilot.id}}
					td {{pilot.alias}}
			button.btn.btn-default( (click)='submitted=true' ) Bearbeiten
			button.btn.btn-primary( (click)='goBack()' ) Zurück